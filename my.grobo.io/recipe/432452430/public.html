<!-- Grobo SV 1.0.0 -->
<!DOCTYPE html PUBLIC>
<html lang="en">

<!-- Mirrored from my.grobo.io/recipe/432452430/public by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 24 Apr 2022 19:39:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="UTF-8">
  <title>Ripper Haze | Sativa | Ripper Seeds | Grobo Grow Recipe</title>
  <link rel="stylesheet" media="all" href="../../assets/application-013c1c377b1bde65040a2b4f69a08e7d.css" />
  <script src="../../assets/application-e73fd1112dead16229c476ba405a05df.js"></script>
  <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="TcrUAzboeQ4alOoFtv8lTs1GZOgT/PipGz95fH/SGi9TmWUJX/gqQl/B5QdLhYdruXgbrFQV4zpGybQBTKZZGw==" />
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet" type="text/css">
  <meta name="viewport" content="initial-scale=1">
  <link rel='shortcut icon' href='../../imgs/grobo-favicon-2.png' type='image/x-icon'/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <link rel="apple-touch-icon" sizes="76x76" href="public.html" />
  <link rel="apple-touch-icon" sizes="152x152" href="../../index.html" />
  <link rel="alternate" href="public.html" hreflang="en-us"/>
  <link rel="alternate" hreflang="x-default" href="public.html" />
  <link rel="canonical" href="public.html"/>
    <meta name="description" content="A diamond that Ripper Seeds met in 2002 in one of their trips to Holland. For more than a decade, this strain has been in all of the menus of the coff"/>
    <meta property="og:url" content="https://my.grobo.io/recipe/432452430/public"/>
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="Ripper Haze | Sativa | Ripper Seeds | Grobo Grow Recipe"/>
    <meta property="og:description" content="A diamond that Ripper Seeds met in 2002 in one of their trips to Holland. For more than a decade, this strain has been in all of the menus of the coff"/>
    <meta property="og:image" content="https://s3.amazonaws.com/grobomvp-uploads/uploads/images/000/002/377/original/Sativa.png"/>

  
  <link rel="apple-touch-icon" type="image/png" href="../../assets/apple-touch-icon-5bf51bdc34cb83cf418d0df7ee04a045.png" />
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-49480774-17', 'auto');
      ga('send', 'pageview');

  </script>
</head>

<style type="text/css">
  @font-face {
    font-family: "Oakes Regular";
    src: url(../../assets/fonts/Oakes-Regular.otf) format("truetype");
    font-weight: normal;
    font-style: normal;
  }
  @font-face {
    font-family: "Oakes Bold";
    src: url(../../assets/fonts/Oakes-Bold.otf) format("truetype");
    font-weight: normal;
    font-style: normal;
  }

  @font-face {
    font-family: "Oakes Semi Bold";
    src: url(../../assets/fonts/Oakes-Semi-Bold.otf) format("truetype");
    font-weight: normal;
    font-style: normal;
  }
  body{
    background: white;
  }

  p, h1, h2, h3, h4, h5, input, button, span, div{
    font-family: 'Oakes Regular';
  }

  #sideline, #sidelineTwo, #sidelineThree, #sidelineFour, #sidelineFive, #sidelineSix, #sidelineSeven {
    width: 45px;
    height: 2px;
    align-self: center;
    padding-right: 5px;
    padding-bottom: 5px;
  }

  #update-counter {
  }

  .mdl-layout__drawer-button {
    margin: 0;
    position: initial;
    /*margin: 0px !important;*/
  }

  /*.mdl-layout__container{
    min-height: 655px;
  }*/

  .mdl-layout__drawer .mdl-navigation {
    padding-top: 0;
  }

  a {
    color: inherit;
    text-decoration: none;
  }

  a, button {
    cursor: pointer;
  }

  #accountlink {
    text-decoration: none;
  }

  .mdl-layout__drawer-button>.material-icons{
    line-height: 1.75;
    color: #3D5B6C;
  }



  .mdl-layout__header-row{
    background-color: white;
  }
  .mdl-layout-title{
    color: black;
    width: 20%;
    display: inline-block;
  }
  .logo-container{
    width: 100%;
  }
  .logo{
    height: 60%;
    margin: auto;
    display: block;
  }

  .mdl-layout__drawer-button{
    /*padding: 5px;*/
    width: 43px;
    outline: none;
    position: inherit;
  }
  .mdl-layout__header-row {
    padding: 0 60px 0 60px;
  }
  .mdl-layout__content {
    flex-shrink: 0;
  }
  .mdl-layout__drawer.is-visible~.mdl-layout__content {
    height: calc(100vh - 56px);
  }

  .mdl-layout__drawer.is-visible{
    background-color: white;
    border: none;
    width: 300px;
    overflow-x: hidden;
  }
  .mdl-layout__drawer .mdl-navigation .mdl-navigation__link:hover{
    background-color: #ffffff !important;
    color: #00a8cf !important;
    /*padding: 0px 8px 0px 8px !important;*/
    /*margin: 0px 7.5% 0px 7.5% !important;*/
  }
  .mdl-layout__drawer .mdl-navigation .mdl-navigation__link{
    padding: 16px;
    padding-top: 10px;
    padding-bottom: 10px;
  }
  .nav-unit{
    color: white !important;
    font-weight: 100;
    text-align: center;
    position: relative;
  }
  .close-me{
    color: white;
    font-weight: 100;
    margin-left: 15px;
    font-size: 30px;
  }
  .close-me:hover{
    cursor: pointer;
  }
  .add-plant-butt{
    background-color: #89c446;
    color: white;
    font-weight: 100;
    width: 85%;
    margin: auto;
    border-radius: 0px;
    text-transform: initial;
  }
  .add-plant-butt:hover{
    background-color: #89c446;
  }
  .footer-butt-container{
    width: 30%;
    display: inline-block;
    margin: 5%;
    margin-bottom: 0px;
    margin-top: 25px;
  }

  .sidenav-footer{
    /*position: fixed;*/
    /*bottom: 0;*/
    width: 100%;
    /*z-index: 20;*/
    background: #F4F7F8;
  }

  .main-navigation {
    height: calc(100% - 194px);
  }

  #grobo-list-nav {
    min-height: calc(100% - 194px);
  }



  .sidenav-icon{
    color: white;
    display: block;
  }
  .footer-text{
    color: white;
    font-weight: 100;
  }
  .nav-header-section{
    margin-top: 25px;
  }
  /*.display-picture{
    float: right;
  }*/
  .dp-link{
    float: right;
    right: 20px;
    position: relative;
    bottom: 7.5px;
  }
  .new-unit{
    text-align: center;
  }
  .username{
    color: #3D5A6C;
    display: inline-block;
    padding-left: 20px;
  }
  .admin-butt, .admin-butt:hover{
    background-color: #023456;
  }
  .unit-status {
    width: 15px;
    height: 15px;
    display: inline-block;
    margin-left: 20px;
    border-radius: 50px;
    position: absolute;
    right: 10%;
    top: 32.5%;
  }
  .unit-status.on{
    background-color: #a4d05f;
  }
  .unit-status.off{
    background-color: rgb(255, 52, 42);
  }
  .nav-leaf{
    position: relative;
    right: 25%;
  }
  .nav-title{
    color: #3D5A6C;
    font-family: "Oakes Regular";
    font-size: 20px;
    padding: 16px;
    padding-top: 10px;
    padding-bottom: 10px;
    padding-left: 50px;
  }

  .mdl-layout__drawer-button > i {
    left: 20px;
  }
  .mdl-layout__drawer .mdl-navigation .mdl-navigation__link{
    padding-left: 50px;
    width: 150px;
  }

  .grobo-side-link{
    font-size: 17px;
    color: #86939B;
    width: 200px;
  }
  .menu-section{
    /*margin-top: 20px;*/
  }

  .nav-header-section {
    margin: 0;
  }
  @media screen and (max-width: 1024px){
    .mdl-layout__header {
      display: flex;
    }
  }

  /* ie. Plant List (page title) */
  .main-text{
    font-size: 17px;
    color: #3D5A6C;
  }

  /* Anything that ends with 'z' is for text specifically */
  .centerz {
    text-align: center;
  }

  /* Select the direct <i> child for the side nav*/
  .mdl-layout__drawer-button > i {
    position: absolute;
    top: 18px;
    left: 20px;
  }

  /* Center the page header */
  .main-text.w300-absolute {
    /*position: absolute;*/
    top: 9px;
    /*left: calc(50% - 100px);*/
    width: 200px;
  }

  .menu-title-name{
    padding-top: 4px;
  }

  @media (min-width: 400px) {
    .main-text.w300-absolute {
      /*width: calc(100% - 300px);*/
      /*left: calc(100% - 300px);*/
      width: 100%;
      display: flex;
      justify-content: center;
      margin: 0 auto;
    }
  }

  .sub-text-primary {
    font-size: 15px;
    color: #3D5A6C;
  }

  .title-lg {
    font-size: 20px;
    text-align: center;
  }

  .tealz {
    color: #00A7CE;
  }

  .menu-title-text  p {
    font-size: 12px;
    line-height: 0;
    text-align: left;
  }

  .menu-title-text h2 {
    line-height: 0;
    text-align: left;
  }

  .menu-title-text {
    display: flex;
    position: relative;
    width: 75%;
    float: right;
    /*border: 2px solid blue;*/
    margin-top: 30px;
    height: 60px;
  }

  .menu-title-text img {
    position: absolute;
    height: 60px;
    left: -44px;
  }

  .update-count-container {
    display: inline-block;
    width: 22px;
    height: 20px;
    background: #ED6464;
    text-align: center;
    border-radius: 4px;
  }

  .nav-update-count {
    color: white;
    font-size: 14px;
    font-weight: 800;
  }

  .mdl-menu__container {
    position: initial;
  }

  .mdl-menu {
    position: initial;
    padding: 0;
  }

  .mdl-menu__container.is-upgraded {
    height: 0px !important;
  }

  .mdl-menu__container.is-upgraded.is-visible {
    height: 140px !important;
  }

  .mdl-menu__item:hover {
    background-color: initial;
  }

  .mdl-menu__outline.mdl-menu--bottom-left {
    display: none;
  }

  .mdl-menu-01-container .mdl-menu {
    /*background: rebeccapurple;*/
    margin-left: 80px;
  }

  li.mdl-menu__item.grobo-side-link {
    transition-delay: 0.1s !important;
  }

  .gl-container {
    /*background: beige;*/
    width: 100%;
    height: 72px;
    margin-top: 1px;
    display: flex;
    align-items: center;
    /*position: relative;*/
  }

  .gl-container > img {
    height: 60px;
    /*position: absolute;*/
    /*left: 40px;*/
    padding-left: 40px;
  }

  .gl-text {
    /*background: grey;*/
    width: 120px;
    margin: 0 auto;
  }

  .gl-text p {
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
    position: relative;
    cursor: pointer;
    text-align: left;
    width: 160px;
    margin-top: 0;
  }

  .gl-text .select-grobo {
    margin-left: 15px;
  }

  .gl-text .select-grobo img {
    height: 7px;
    position: absolute;
    top: 10px;
    cursor: pointer;
  }

  #plus-grobo img{
    height: 35px;
  }

  #menu-title-container {
    height: 120px;
    background: #F4F7F8;
    display: flex;
    align-items: center;
  }

  .footer-container{
    height: 80px;
    background: gainsboro;
  }

  #display-picture-container img {
    height: 46px;
    width: 46px;
  }

  #display-picture-container {
    height: 46px;
    position: absolute;
    left: 24px;
    overflow: hidden;
    border-radius: 50%;
  }

  @media only screen and (min-width: 320px) {
    .main-text.w300-absolute {
      position: absolute;
      top: 9px;
      left: calc(50% - 100px);
      width: 200px;
    }
  }

  @media (min-width: 400px) {
    .main-text.w300-absolute {
      /*width: calc(100% - 300px);*/
      /*left: calc(100% - 300px);*/
      /*width: 100%;*/
      /*display: flex;*/
      /*justify-content: center;*/
      margin: 25px auto;
    }
  }

  @media only screen and (min-width: 1025px) {
    .mdl-layout--fixed-drawer > .mdl-layout__drawer {
      -webkit-transform: translateX(0);
      transform: translateX(0);
      width: 300px;
      position: fixed;
      overflow-x: hidden;
    }
    .mdl-layout--fixed-drawer>.mdl-layout__content {
      margin-left: 300px;
    }

    .main-text.w300-absolute {
      position: relative;
      display: flex;
      justify-content: center;
      width: calc(100% - 300px);
      margin-left: 300px;
      margin-top: 20px;
      left: auto;

    }
  }

  @media only screen and (min-width: 1200px) {
    .mdl-layout__drawer .mdl-navigation .mdl-navigation__link {
      padding: 16px;
      padding-top: 25px;
      padding-bottom: 10px;
    }
  }

  #fixed-glogo {
    z-index: 2;
    position: fixed;
    width: 75px;
    left: 50px;
    top: 50px;
  }

  /* universal flex classes */
  .flex {
    display: flex;
  }

  .content-align-center {
    justify-content: center;
  }

  .content-align-vert {
    align-items: center;
  }

  .content-full-width {
    width: 100%;
  }

  .content-full-height {
    height: 100%;
  }

  .content-flex-direction {
    flex-direction: column;
  }

  .content-space-between {
    justify-content: space-between;
  }

  .content-space-evenly {
    justify-content: space-evenly;
  }

  .content-flex-wrap {
    flex-wrap: wrap;
  }
  /* end universal flex classes */
</style>
<body>

<div class="mdl-layout mdl-js-layout mdl-layout-drawer">


  <main id="main-app-content" class="mdl-layout__content">
    <div class="page-content">
      
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content=Sativa | Ripper Seeds | Grobo Grow Recipe>
  <meta name="twitter:description" content=A diamond that Ripper Seeds met in 2002 in one of their trips to Holland. For more than a decade, this strain has been in all of the menus of the coff>
  <meta name="twitter:image" content= https://s3.amazonaws.com/grobomvp-uploads/uploads/images/000/002/377/original/Sativa.png>

<style>
  #main-app-content {
    background: #fff;
  }

  .recipe_plant_icon {
    width: 6em;
  }

  .mdl-paragraph-reset {
    margin: 0;
    line-height: normal;
  }

  .mdl-hr-reset {
    margin: 0;
  }

  .recipe-verified-icon {
    width: 1em;
    padding-left: 5px
  }

  .recipe-bold-text {
    font-family: "Oakes Semi Bold", Helvetica, sans-serif;
  }

  .recipe-medium-text {
    font-family: "Oakes Medium", Helvetica, sans-serif;
  }

  .recipe-paragraph-size {
    font-size: 1.1em;
  }

  .recipe-title-size {
    font-size: 2em;
  }

  .recipe-regular-font {
    line-height: 1.8;
    letter-spacing: 1px;
    /*color: #3d5a6c;*/
    color: #545454;
  }

  .recipe-grey-text {
    color: #86939b;
  }

  .recipe-social-icons {
    width: 3.5em;
  }

  .recipe-padding-20 {
    padding-bottom: 1.5em;
  }

  .recipe-description-text {
    text-align: justify;
    letter-spacing: 0.5px;
  }

  #recipe-detail-content {
    padding-top: 6em;
  }

  .recipe-details-text {
    padding-bottom: 0.5em;
    padding-left: 2em;
  }

  .recipe-details-title {
    padding-left: 1.5em;
    font-size: 1.5em;
    padding-top: 1.5em;
    padding-bottom: 20px;
    line-height: normal;
  }

  #recipe-grow-button {
  }

  #recipe-clone-button {
  }

  #recipe-button-container {
    justify-content: space-between;
  }

  .back-button {
    border: solid 1px;
    color: #949494;
    background-color: #fff;
  }

  .next-button {
    background-color: #00A7CE;
    color: #fff;
    border: none;
    text-align: center !important;
  }

  .main-button {
    border-radius: 20px;
    text-decoration: none;
    text-align: center !important;
    font-size: 15px;
    height: 39px;
    width: 100px;
    outline: none;
  }


  @media only screen and (max-width: 480px) {
    .recipe-description-text, .recipe-description-title {
      text-align: center;
    }

    #recipe-seed-summary {
      flex-direction: column;
    }

    #recipe-detail-content {
      padding: 0 2em;
    }

    .social-icons-container {
      justify-content: center;
    }

    .description-social-container {
      flex-direction: column-reverse;
    }



    #recipe-button-container {
      justify-content: space-between;
    }

    #filler-div {
      display: none;
    }
  }

  @media only screen and (max-width: 800px) and (min-width: 767px) {
    #recipe-seed-summary {
      justify-content: space-between;
    }
  }


  @media only screen and (min-width: 481px) {
    #recipe-detail-content {
      padding: 3em 3em 0;
    }

    .recipe-padding-right-4em {
      padding-right: 4em;
    }
  }

  @media only screen and (max-width: 1199px) {
    #recipe-detail-content {
      padding-top: 3em;
    }

    #recipe-grow-button, #recipe-clone-button {
      width: 112px;
    }

    .connect-text {
      display: none;
    }
  }

  @media only screen and (max-width: 1500px) {
    .recipe-details-title {
      padding-left: 0.7em;
    }

    .recipe-details-text {
      padding-left: 1em;
      padding-right: 1em;
    }
  }

  @media only screen and (min-width: 1200px) {
    #recipe-detail-content {
      padding: 6em 6em 0;
    }
  }
</style>

<div id="fb-root"></div>
<script>(function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s);
    js.id = id;
    js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.1';
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div id="recipe-detail-content" class="mdl-grid mdl-grid--no-spacing">
  <div class="mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone flex content-flex-direction">
    <div class="mdl-grid mdl-grid--no-spacing content-align-center content-full-width content-flex-direction content-align-vert" style="/*background: yellowgreen*/">
      <div class="mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone flex content-align-center content-align-vert recipe-padding-20 recipe-plant-icon-container">
        <img class="recipe_plant_icon" src="../../imgs/Sativa.svg" alt="Sativa">
      </div>
      <div class="mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone flex content-align-center content-align-vert recipe-padding-20">
        <p class="grobo_verified_text mdl-paragraph-reset recipe-regular-font recipe-paragraph-size">GROBO VERIFIED</p>
        <img class="recipe-verified-icon" src="../../imgs/verified-blue.svg" alt="Blue Checkmark">
      </div>
      <div class="mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone flex content-align-center content-align-vert recipe-padding-20">
        <h1 class="grobo_plant_name mdl-paragraph-reset recipe-regular-font recipe-title-size recipe-bold-text recipe-description-title">Ripper Haze</h1>
      </div>
    </div>

    <div class="mdl-grid mdl-grid--no-spacing content-align-center content-full-width content-align-vert">
      <div class="mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone flex content-align-center content-align-vert recipe-padding-20">
        <hr class="content-full-width mdl-hr-reset">
      </div>
    </div>
    <div class="mdl-grid mdl-grid--no-spacing content-align-center content-full-width content-align-vert flex" style="/*background: goldenrod*/">
      <div class="mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone flex content-align-center content-align-vert content-flex-direction" style="/*background: blueviolet;*/ align-self: flex-start;">
        <div class="mdl-grid mdl-grid--no-spacing content-full-width description-social-container">
          <div class="mdl-cell mdl-cell--7-col-desktop mdl-cell--5-col-tablet mdl-cell--4-col-phone flex content-align-vert recipe-padding-20" style="/*background: lime*/">
            <p class="mdl-paragraph-reset recipe-regular-font recipe-title-size recipe-bold-text content-full-width recipe-description-title recipe-padding-right-4em">Description</p>
          </div>
          <div class="mdl-cell mdl-cell--5-col-desktop mdl-cell--3-col-tablet mdl-cell--4-col-phone flex content-align-vert recipe-padding-20 social-icons-container" style="/*background: aquamarine*/">
            <p class="mdl-paragraph-reset recipe-grey-text">SHARE:</p>
            <a class="icon-facebook" rel="nofollow" href="http://www.facebook.com/" onclick="popUp=window.open('https://www.facebook.com/sharer/sharer.php?u=' +escape(document.URL)+'&text=Check out my next grow!', 'facebook-popup', 'height=350,width=600'); popUp.focus(); return false">
              <img class="recipe-social-icons" src="../../imgs/facebook.svg" alt="Facebook Icon">
            </a>
            <a class="icon-twitter" rel="grobogrow" href="http://twitter.com/" onclick="popUp=window.open('https://twitter.com/share?url='+escape(document.URL.replace('public.html', 'public.html'))+'&text=Check out my next grow!', 'twitter-popup', 'height=350,width=600'); popUp.focus(); return false">
              <img class="recipe-social-icons" src="../../imgs/twitter.svg" alt="Twitter Icon">
            </a>
            <a id="emailShare" href="#" class="icon-email" rel="nofollow">
              <img class="recipe-social-icons" src="../../imgs/email.svg" alt="Email Icon">
            </a>
          </div>
        </div>
        <div class="mdl-grid mdl-grid--no-spacing content-align-center content-full-width flex" style="/*background: goldenrod*/">
          <div class="mdl-cell mdl-cell--7-col-desktop mdl-cell--5-col-tablet mdl-cell--4-col-phone flex content-align-center recipe-padding-20" style="/*background: burlywood*/">
          <p class="mdl-paragraph-reset recipe-regular-font recipe-paragraph-size recipe-description-text recipe-padding-right-4em">
            A diamond that Ripper Seeds met in 2002 in one of their trips to Holland. For more than a decade, this strain has been in all of the menus of the coffeeshops due to its aroma, distinct citric Haze flavour and its “ripper” effect even for most experienced users. Known by different names, the most popular one is Amnesia Haze. RIPPER HAZE is the final result of Ripper Seeds search of the perfect Haze: very potent and longlasting effect, quick flowering cycle and intense aroma and flavour. Its large amount of trichomes and its unmatched flavor, would make it your most precious jewel. To the day, one of the highest THC percentages.
            <br>
            <a href="https://www.seedsman.com/en/ripper-haze-feminised-seeds?a_aid=5f4abe185bc20" target="_blank">
              <button id="recipe-clone-button" class="main-button back-button">Buy Seeds</button>
            </a>
          </p>
          </div>
          <div class="mdl-cell mdl-cell--5-col-desktop mdl-cell--3-col-tablet mdl-cell--4-col-phone flex content-flex-direction">
            <div style="background: #f4f7f8; border-radius: 1em;">
              <p class="mdl-paragraph-reset recipe-regular-font recipe-paragraph-size recipe-bold-text recipe-details-title" style="padding-bottom: 1em">Detail</p>
              <p class="mdl-paragraph-reset recipe-details-text recipe-regular-font recipe-paragraph-size">
                <span class="recipe-bold-text">Strain:</span> Sativa</p>
              <p class="mdl-paragraph-reset recipe-details-text recipe-regular-font recipe-paragraph-size">
                <span class="recipe-bold-text">Breeder:</span> Ripper Seeds</p>
              <p class="mdl-paragraph-reset recipe-details-text recipe-regular-font recipe-paragraph-size">
                <span class="recipe-bold-text">Grow Time:</span> 127 days</p>
              <p class="mdl-paragraph-reset recipe-regular-font recipe-paragraph-size recipe-details-text" style="padding-bottom: 2em">
                <span class="recipe-bold-text">Flowering Type:</span> Photoperiod</p>
            </div>
            <div class="mdl-grid mdl-grid--no-spacing content-align-center content-full-width flex" style="/*background: goldenrod*/">
              <div id="recipe-button-container" class="mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone flex" style="padding: 20px 0;">
                <button id="recipe-clone-button" class="main-button back-button" onclick="recipes('')">Recipes</button>
                <button id="recipe-grow-button" class="main-button next-button" onclick="recipe_handler('public', '432452430', 'Photoperiod', 'true', `Ripper Haze`, '', '0')">Grow</button>
              </div>


            </div>
          </div>
          <div id="filler-div" class="mdl-cell mdl-cell--7-col-desktop mdl-cell--4-col-tablet mdl-cell--4-col-phone flex content-align-center recipe-padding-20" style="/*background: burlywood*/">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript" charset="utf-8">

    var mailLink = 'mailto:?body=Check out my latest grow photos!' + escape(document.URL.replace('public.html', 'public.html'));
    document.getElementById("emailShare").setAttribute("href", mailLink);

    function recipes() {
        return location.href = '../../recipes.html'
    }

    function recipe_handler(unit_id, plant_id, auto_recipe, is_cannabis, recipe_name, unit_type_name, active_unit_plants) {
        if (unit_id === "public" || unit_id === "no-grobo" || unit_type_name === "Grobo Start") {
            grow(unit_id, plant_id, auto_recipe, is_cannabis, recipe_name, unit_type_name, active_unit_plants)
        } else {
            onlineCheck(unit_id, plant_id, auto_recipe, is_cannabis, recipe_name, unit_type_name)
        }
    }

    function onlineCheck(unit_id, plant_id, auto_recipe, is_cannabis, recipe_name, unit_type_name, active_unit_plants) {
        $.ajax({
            url: '/makeparrot/' + unit_id,
            type: "POST",
            data: {
              event: 'status_post',
              action_name: 'onlineCheck(' + unit_id + ', ' + plant_id + ', ' + auto_recipe + ', ' + is_cannabis + ', ' + recipe_name + ') [recipe]'
            },
            success: function (data) {
                console.log(data)
                if (data.exceptions) {
                    var modal_json = {
                        unit_id: unit_id,
                        action: 'offline makeparrot',
                        user_action: 'adding a recipe'
                    };
                    openModal(modal_json);
                } else {
                    grow(unit_id, plant_id, auto_recipe, is_cannabis, recipe_name, unit_type_name, active_unit_plants)
                }
            }
        });
    }

    function grow(unit_id, plant_id, auto_recipe, is_cannabis, recipe_name, unit_type_name, active_unit_plants) {
        // check with modal guys if this is necessary
        // var modal_json;
        var currently_growing = 'false';
        var drying_mode = false;
        if (unit_type_name === 'Grobo Start' && active_unit_plants >= 3) {
            modal_json = {
                modal_icon: 'warning plant',
                title: 'Uh Oh',
                message: 'We noticed that you are currently growing more than three plants in your grobo start. Please end one of your grows before adding a new recipe',
                unit_id: unit_id,
                plant_id: plant_id,
                button_one_text: 'Cancel',
                button_two_text: 'Grow',
                action: 'currently growing',
                user_action: 'adding a recipe'
            }
        } else if (unit_type_name === 'Grobo Start' && drying_mode) {
          modal_json = {
            modal_icon: 'warning plant',
            title: 'Uh Oh',
            message: 'Drying mode can only be added to a Grobo Premium/Solid',
            action: 'information modal',
            user_action: 'adding a recipe',
          };
        } else if(unit_type_name === 'Grobo Start') {
            modal_json = {
                modal_icon: 'happy plant',
                title: 'Grow',
                message: 'Are you sure you want to grow this seed?',
                unit_id: unit_id,
                plant_id: plant_id,
                button_one_text: 'Cancel',
                button_two_text: 'Seed',
                action: 'grow seed',
                user_action: 'adding a recipe',
                spinner_text: 'Adding recipe...'
            };
        } else if (auto_recipe === 'Photoperiod' && currently_growing === 'false' && is_cannabis === 'true') {
            modal_json = {
                modal_icon: 'happy plant',
                title: 'Grow',
                message: 'Are you growing from a clone or seed?',
                unit_id: unit_id,
                plant_id: plant_id,
                button_one_text: 'Clone',
                button_two_text: 'Seed',
                action: 'grow',
                user_action: 'adding a recipe',
                spinner_text: 'Adding recipe...'
            };
        } else if (auto_recipe === 'Photoperiod' && currently_growing === 'false' && is_cannabis === 'false') {
            modal_json = {
                modal_icon: 'happy plant',
                title: 'Grow',
                message: 'Are you sure you want to grow this seed?',
                unit_id: unit_id,
                plant_id: plant_id,
                button_one_text: 'Cancel',
                button_two_text: 'Seed',
                action: 'grow seed',
                user_action: 'adding a recipe',
                spinner_text: 'Adding recipe...'
            };
        } else if (auto_recipe === 'Auto flowering' && currently_growing === 'false' && is_cannabis === 'true') {
            modal_json = {
                modal_icon: 'warning plant',
                title: 'Warning – This is not a regular recipe!',
                message: 'Ensure you have an Auto seed if you are selecting this recipe',
                unit_id: unit_id,
                plant_id: plant_id,
                button_one_text: 'Cancel',
                button_two_text: 'Grow',
                action: 'grow auto',
                user_action: 'adding a recipe',
                spinner_text: 'Adding recipe...'
            };
        } else if (currently_growing === 'true') {
            modal_json = {
                modal_icon: 'warning plant',
                title: 'Uh Oh',
                message: 'We noticed that you are currently growing. Please end your grow before adding a new recipe',
                unit_id: unit_id,
                plant_id: plant_id,
                button_one_text: 'Cancel',
                button_two_text: 'Grow',
                action: 'currently growing',
                user_action: 'adding a recipe',
            };
        }
        openModal(modal_json)
    }


    function shiftHandler(e) {
        e.preventDefault();
        var unit_id = public
        if (unit_id !== "public" && unit_id !== "no-grobo") {
           shiftOnlineCheck(unit_id)
        }
    }

    function shiftOnlineCheck(unit_id) {
        var connectSpinner = document.getElementById('shift-connect-spinner');
        connectSpinner.style.display = 'flex';
        $.ajax({
            url: '/makeparrot/' + unit_id,
            type: "POST",
            data: {
              event: 'status_post',
              action_name: 'shiftOnlineCheck(' + unit_id + ') [recipe]'
            },
            success: function (data) {
                if (data.exceptions) {
                    var modal_json = {
                        unit_id: unit_id,
                        action: 'offline makeparrot',
                        user_action: 'adding a recipe'
                    };
                    openModal(modal_json);
                } else {
                    growViaShift()
                }
            }
        });
    }

    function growViaShift() {
        var unit_id = parseInt(public);
        var plant_id = parseInt(432452430);
        var shiftDays = document.getElementById('shift_days').value;
        $.ajax({
            url: '/new-unit-plant/' + unit_id,
            type: 'post',
            data: {plant_id: plant_id, shift_days: shiftDays}
        })
            .done(function (data) {
                // Redirect to root
                if (data === 200) {
                    return location.href = '../../index.html';
                } else {
                    return location.href = '../../index.html';
                }
            })
            .fail(function (e) {
                return location.reload();
            })
    }

</script>
    </div>
  </main>
  <div id="main_app_modal_container" class="mdl-grid mdl-grid--no-spacing">
    <style>
    /*body {*/
    /*  height: 100%;*/
    /*}*/

    .modal {
        display: none;
    }

    .modal-image-container {
        min-height: 100px;
    }

    .mdl-spinner {
        height: 60px;
        width: 60px;
    }

    #app-modal {
        padding: 0;
        height: 100vh;
    }

    #modal-title {
        margin: 20px 0;
        line-height: normal;
        letter-spacing: 0;
        font-size: 27px;
        text-transform: capitalize;
        font-family: "Oakes Semi Bold", Helvetica, sans-serif;
    }

    #modal-text {
        margin: 0;
        font-family: "Oakes Regular", Helvetica, sans-serif;
        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
        letter-spacing: 0;
        text-align: center !important;
        color: #000;
    }

    #secondary-modal-text {
        margin: 0;
        font-family: "Oakes Regular", Helvetica, sans-serif;
        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
        letter-spacing: 0;
        text-align: center !important;
        color: #000;
        padding-top: 10px;
    }

    #modal-content {
        box-shadow: 0 9px 46px 8px rgba(0, 0, 0, 0.14), 0 11px 15px -7px rgba(0, 0, 0, 0.12), 0 24px 38px 3px rgba(0, 0, 0, 0.2);
        border-radius: 7px;
    }

    .content-modal-show {
        display: flex;
    }

    /* classes fired by js for animation control */
    .content-modal-hide {
        display: none !important;
    }

    /* This is on the wrapper for the whole modal */
    .modal--align {
        width: 100%;
        height: 100%;
        position: fixed;
        left: 0;
        top: 0;
        /*background: rgba(0, 0, 0, 0.3);*/
        z-index: 999;
    }

    .modal__container {
        position: relative;
        width: 100%;
        max-width: 400px;
        max-height: 800px;
        background: #fff;
    }

    .blurEffect {
        filter: blur(5px);
    }

    .no-blurEffect {
        filter: none;
    }

    .main_app_modal__back-button {
        border: solid 1px;
        color: #949494;
        background-color: #fff;
        cursor: pointer;
    }

    .main_app_modal__next-button {
        background-color: #00A7CE;
        color: #fff;
        border: none;
        text-align: center !important;
        cursor: pointer;
    }

    .main_app_modal__main-button {
        border-radius: 20px;
        text-decoration: none;
        text-align: center !important;
        font-size: 15px;
        height: 39px;
        width: 100px;
        outline: none;
        cursor: pointer;
    }

    .modal-content-bottom {
        height: 105px;
        width: 100%;
        background: url("../../imgs/design.svg") 25% 0;
        background-size: 650px 200px;
        z-index: 1;
        border-radius: 4px;
    }

    /*ph classes*/

    #spinner-complete {
        background: #fff;
        width: 90px;
        height: 90px;
        border-radius: 50%;
        border: 5px solid #6BC967;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 20px;
    }

    #firmware-upgrade-complete {
        background: #fff;
        width: 90px;
        height: 90px;
        border-radius: 50%;
        border: 5px solid #6BC967;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 20px;
    }

    .ph_modal__spinner-container {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .spinner-content {
        width: 100px;
        height: 100px;
        position: relative;
        background: white;
        box-sizing: border-box;
    }

    .pie {
        width: 50%;
        height: 100%;
        transform-origin: 100% 50%;
        position: absolute;
        box-sizing: border-box;
        border: 5px solid #6BC967;
    }

    .spinner {
        border-radius: 100% 0 0 100% / 50% 0 0 50%;
        z-index: 200;
        border-right: none;
        animation: rota 120s linear infinite;
    }

    .one_min_spinner {
        border-radius: 100% 0 0 100% / 50% 0 0 50%;
        z-index: 200;
        border-right: none;
        animation: rota 60s linear infinite;
    }

    .filler {
        border-radius: 0 100% 100% 0 / 0 50% 50% 0;
        z-index: 100;
        border-left: none;
        animation: opa 120s steps(1, end) infinite reverse;
        left: 50%;
        opacity: 0;
        box-sizing: border-box;
    }

    .one_min_filler {
        border-radius: 0 100% 100% 0 / 0 50% 50% 0;
        z-index: 100;
        border-left: none;
        animation: opa 60s steps(1, end) infinite reverse;
        left: 50%;
        opacity: 0;
        box-sizing: border-box;
    }

    .one_min_mask {
        width: 50%;
        height: 100%;
        position: absolute;
        z-index: 300;
        opacity: 1;
        background: inherit;
        animation: opa 60s steps(1, end) infinite;
        box-sizing: border-box;
    }

    .mask {
        width: 50%;
        height: 100%;
        position: absolute;
        z-index: 300;
        opacity: 1;
        background: inherit;
        animation: opa 120s steps(1, end) infinite;
        box-sizing: border-box;
    }

    #modal-password-container {
        margin-top: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    #requested-recipe-container {
        margin-bottom: 20px;
    }

    #scraped-recipe-container {
        margin-bottom: 20px;
    }

    .modal-password {
        background: #fff;
        color: #000;
        border: solid 2px #949494;
        padding: 1px;
        border-radius: 5px;
        height: 25px;
        width: 60%;
    }

    .modal-password-label {
        font-size: 15px;
        padding-right: 10px;
    }


    @keyframes rota {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }

    @keyframes opa {
        0% {
            opacity: 1;
        }
        50%, 100% {
            opacity: 0;
        }
    }

    #spinner-text {
        position: absolute;
        margin: 0;
        z-index: 301;
        top: 42px;
        left: 0;
        width: 100px;
        text-align: center
    }

    #firmware-upgrade-text {
        position: absolute;
        margin: 0;
        z-index: 301;
        top: 42px;
        left: 0;
        width: 100px;
        text-align: center
    }

    .app-modal-flex {
        display: flex;
    }

    .app-modal-align-center {
        justify-content: center;
    }

    .app-modal-align-vert {
        align-items: center;
    }

    .app-modal-full-width {
        width: 100%;
    }

    .app-modal-flex-direction {
        flex-direction: column;
    }

    .app-modal-space-between {
        justify-content: space-between;
    }

    @media only screen and (min-width: 1025px) {
        /*.modal-grid {*/
        /*margin-left: 300px;*/
        /*}*/
    }


    @media only screen and (max-width: 479px) {
        .content__container {
            padding: 0 10px;
        }
    }

    @media only screen and (max-width: 550px) {
        .modal-content-bottom {
            height: 73px;
            width: 100%;
            background: url("../../imgs/design.svg") 25% 23%;
            background-size: 400px 200px;
            z-index: 1;
            border-radius: 4px;
        }
    }

</style>
<body>

<!-- modal - must sit outside main page layout -->
<div class="mdl-grid mdl-grid--no-spacing">
  <div id="app-modal"
       class="app-modal-align-center app-modal-align-vert modal modal--align mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone">
    <div id="modal-grid" class="mdl-grid mdl-grid--no-spacing app-modal-align-center app-modal-full-width app-modal-flex-direction app-modal-align-vert" style="z-index: 1">
      <div id="modal-content" class="modal__container mdl-cell mdl-cell--4-col-desktop mdl-cell--4-col-tablet mdl-cell--3-col-phone app-modal-flex app-modal-align-center" style="z-index: 2">
        <div class="mdl-grid mdl-grid--no-spacing app-modal-flex-direction app-modal-align-vert" style="width: 100%">
          <div class="content__container mdl-cell mdl-cell--10-col-desktop mdl-cell--7-col-tablet mdl-cell--4-col-phone app-modal-flex app-modal-align-center app-modal-align-vert modal-image-container">
            <img id="modal-main-image" class="content-modal-hide" style="width: 40%; margin-top: 10px" src="#" alt="">
            <div id="spinner-counter" class="ph_modal__spinner-container mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone content-modal-hide" style="margin-top: 20px">
              <div class="spinner-content">
                <div class="spinner pie"></div>
                <p id="spinner-text">2 mins</p>
                <div class="filler pie"></div>
                <div class="mask"></div>
              </div>
            </div>
            <div id="spinner-complete" class="content-modal-hide">Finishing Up</div>
            <!-- MDL Spinner Component -->
            <div id="firmware-upgrade-counter" class="ph_modal__spinner-container mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone content-modal-hide" style="margin-top: 20px">
              <div class="spinner-content">
                <div class="one_min_spinner pie"></div>
                <p id="firmware-upgrade-text">2 mins</p>
                <div class="one_min_filler pie"></div>
                <div class="one_min_mask"></div>
              </div>
            </div>
            <div id="firmware-upgrade-complete" class="content-modal-hide">Finishing Up</div>
            <div id="modal-spinner" class="mdl-spinner mdl-js-spinner is-active content-modal-hide"></div>
          </div>
          <div class="content__container mdl-cell mdl-cell--10-col-desktop mdl-cell--7-col-tablet mdl-cell--4-col-phone modal-title-container"
               style="display: flex; justify-content: center; text-align: center;">
            <h2 id="modal-title" style="color: #000">Title</h2>
          </div>
          <div id="modal-text-container" class="content__container mdl-cell mdl-cell--10-col-desktop mdl-cell--7-col-tablet mdl-cell--4-col-phone"
               style="text-align: center">
            <p id="modal-text">message</p>
            <p id="secondary-modal-text" style="display: none"></p>
            <div id='requested-recipe-container' class="content-modal-hide">
              <table>
                <tr>
                  <th colspan="2">Requested Recipe</th>
                </tr>
                <tr>
                  <td>Email</td>
                  <td id='user-request-email'></td>
                </tr>
                <tr>
                  <td>Strain</td>
                  <td id="user-strain-request">Ernst Handel</td>
                </tr>
                <tr>
                  <td>Seed Breeder</td>
                  <td id='user-breeder-request'>Alfreds Futterkiste</td>
                </tr>
                <tr>
                  <td>Varietal Type</td>
                  <td id="user-varietal-type"></td>
                </tr>
                <tr>
                  <td>Auto Flowering</td>
                  <td id='auto-flowering-request'></td>
                </tr>
                <tr>
                  <td>Url</td>
                  <td id='user-url-request' style="overflow-wrap: anywhere"></td>
                </tr>
              </table>
            </div>
            <div id='scraped-recipe-container' class="content-modal-hide">
              <table>
                <tr>
                  <th colspan="2">Scraped Recipe</th>
                </tr>
                <tr>
                  <td>Flowering Period</td>
                  <td id='scraped-flowering-period'></td>
                </tr>
                <tr>
                  <td>Varietal Type</td>
                  <td id='scraped-user-varietal'></td>
                </tr>
                <tr>
                  <td>Auto Flowering</td>
                  <td id='scraped-auto-flowering'></td>
                </tr>
                <tr>
                  <td>Url</td>
                  <td id='scraped-url' style="overflow-wrap: anywhere"></td>
                </tr>
              </table>
            </div>
          </div>
          <div id="modal-password-container" class="content-modal-hide">
            <label class="modal-password-label" for="keyValidation">Password:</label>
            <input class="modal-password" type="password" id="keyValidation" name="fname">
            <i id="pass-status" class="fa fa-eye" aria-hidden="true" onClick="viewPassword()" style="margin-left: 5px"></i>
          </div>
          <div class="modal__container mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone modal-content-bottom app-modal-space-between" style="position: relative">
            <div class="mdl-grid mdl-grid--no-spacing app-modal-align-center" style="height: 100%;">
              <div id="modal-button-container" class="content__container mdl-cell mdl-cell--10-col-desktop mdl-cell--7-col-tablet mdl-cell--4-col-phone app-modal-flex app-modal-align-center app-modal-space-between mdl-cell--middle">
                <button id="modal-back-button" class="main_app_modal__main-button main_app_modal__back-button">No</button>
                <button id="modal-continue-button" class="main_app_modal__main-button main_app_modal__next-button">Yes</button>
              </div>
              <div id="single-button-container" class="content__container mdl-cell mdl-cell--10-col-desktop mdl-cell--7-col-tablet mdl-cell--4-col-phone app-modal-flex app-modal-align-center content-modal-hide">
                <button id="modal-single-button" class="main_app_modal__main-button main_app_modal__next-button">My
                  Grobo
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- / modal -->
</body>
<script>

  // MODAL VARIABLES
  // main modal text
  var mainModalText = '', spinnerText = '', unitId = '', unitPlantId = '', plantId = '', unitName = '', action = '',
    single_button_text = '', imgSrc = '', user_action = '', cannabis = '', userId = '', userName = '', recipeRequestJson = {},
    scrapeResultJson = {}, recipe_blueprint_row = '', recipe_blueprint_id = '', particleId = '', action_request = '';

  // Modal - JS
  // Get the modal
  var modal = document.getElementById('app-modal');

  // Get the button that closes the modal
  var modalBackButton = document.getElementById('modal-back-button');

  var modalContinueButton = document.getElementById('modal-continue-button');

  // Main content model
  var mainAppContent = document.getElementById('main-app-content');

  // target sidebar
  if (document.getElementById('blur-sidebar') != null) {
    var blurSidebar = document.getElementById('blur-sidebar');
  }

  // target modal grid
  var modalGrid = document.getElementById('modal-grid');

  // target modal content
  var modalContent = document.getElementById('modal-content');

  // target text container
  var modalTextContainer = document.getElementById('modal-text-container');

  // target password container
  var modalPasswordContainer = document.getElementById('modal-password-container');

  // target main image
  var modalMainImage = document.getElementById('modal-main-image');

  // target spinner
  var modalSpinner = document.getElementById('modal-spinner');

  // target complete spinner
  var spinnerComplete = document.getElementById('spinner-complete');

  // target spinner counter
  var spinnerCounter = document.getElementById('spinner-counter');

  // target complete spinner
  var firmwareUpgradeComplete = document.getElementById('firmware-upgrade-complete');

  // target firmware upgrade counter
  var firmwareUpgradeCounter = document.getElementById('firmware-upgrade-counter');

  // target modal title
  var modalTitle = document.getElementById('modal-title');

  // modal text
  var modalText = document.getElementById('modal-text');

  // modal secondary text
  var secondaryModalText = document.getElementById('secondary-modal-text');

  // target button container
  var modalButtonContainer = document.getElementById('modal-button-container');

  // target single button container
  var singleButtonContainer = document.getElementById('single-button-container');

  // modal single button
  var modalSingleButton = document.getElementById('modal-single-button');

  var userStrainRequest = document.getElementById('user-strain-request');

  var userBreederRequest = document.getElementById('user-breeder-request');

  var userRequestEmail = document.getElementById('user-request-email');

  var userVarietalType = document.getElementById('user-varietal-type');

  var autoFloweringRequest = document.getElementById('auto-flowering-request')

  var userUrlRequest = document.getElementById('user-url-request')

  var scrapedFloweringPeriod = document.getElementById('scraped-flowering-period')

  var scrapedUserVarietal = document.getElementById('scraped-user-varietal')

  var scrapedAutoFlowering = document.getElementById('scraped-auto-flowering')

  var scrapedUrl = document.getElementById('scraped-url')

  var scrapedRecipeContainer = document.getElementById('scraped-recipe-container')

  var requestedRecipeContainer = document.getElementById('requested-recipe-container')

  openModal = function (data) {
    modalTitle.innerHTML = data.title;
    modalText.innerHTML = data.message;
    secondaryModalText.innerHTML = data.secondary_message;
    action = data.action;
    action_request = data.action_request;
    user_action = data.user_action;
    unitId = data.unit_id;
    particleId = data.particle_id
    userId = data.user_id;
    userName = data.user_name;
    unitPlantId = data.unit_plant_id;
    plantId = data.plant_id;
    unitName = data.unit_name;
    spinnerText = data.spinner_text;
    imgSrc = data.modal_icon;
    cannabis = data.cannabis;
    modalBackButton.innerHTML = data.button_one_text;
    modalContinueButton.innerHTML = data.button_two_text;
    recipeRequestJson = data.recipe_request_json;
    scrapeResultJson = data.scrape_result_json;
    recipe_blueprint_row = data.recipe_blueprint_row;
    recipe_blueprint_id = data.recipe_blueprint_id;
    modal.classList.remove("content-modal-hide");
    modal.classList.add("content-modal-show");
    modalButtonContainer.classList.remove('content-modal-hide');
    modalTextContainer.classList.remove('content-modal-hide');
    modalSpinner.classList.add('content-modal-hide');
    singleButtonContainer.classList.add('content-modal-hide');
    mainAppContent.classList.add("blurEffect");
    if (document.getElementById('blur-sidebar') != null) {
      blurSidebar.className = "mdl-layout__drawer blurEffect";
    }

    if (imgSrc === 'happy plant') {
      modalMainImage.classList.remove('content-modal-hide');
      modalMainImage.src = '../../imgs/happy_plant.svg'
    } else if (imgSrc === 'warning plant') {
      modalMainImage.classList.remove('content-modal-hide');
      modalMainImage.src = '../../imgs/ohoh_plant.svg'
    } else if (imgSrc === 'spinner complete') {
      spinnerComplete.classList.remove('content-modal-hide');
    } else if (imgSrc === 'spinner counter') {
      spinnerCounter.classList.remove('content-modal-hide');
    } else {
      modalMainImage.className = 'content-modal-hide'
    }

    switch (action) {
      case 'finish_calibration':
        modalButtonContainer.classList.add('content-modal-hide');
        singleButtonContainer.classList.remove('content-modal-hide');
        modalSingleButton.onclick = function () {
          return location.href = '../../index.html'
        };
        break;
      case 'incomplete_calibration':
        modalButtonContainer.classList.remove('content-modal-hide');
        singleButtonContainer.classList.add('content-modal-hide');
        modalBackButton.style.width = '135px';
        modalContinueButton.style.width = '135px';
        modalBackButton.onclick = function () {
          closeModal();
        };
        modalContinueButton.onclick = function () {
          forceFinishCalibration(unitId);

          modalSpinner.classList.remove('content-modal-hide');
          modalMainImage.classList.add('content-modal-hide');
        };
        break;
      case 'terminate plant':
        // when the user clicks the continue button, continue
        var offlineSpinner = document.getElementById('force-end-grow');
        offlineSpinner.style.display = 'none';
        modalPasswordContainer.classList.add('content-modal-hide');
        modalContinueButton.style.background = '#00A7CE';
        modalContinueButton.onclick = function () {
          offlineSpinner.style.display = 'none';
          var event = 'kill_and_refresh_schedule';
          loadingModal();
          $.ajax({
            url: '/terminate-schedule/' + unitId,
            type: "POST",
            data: {event: event},
            success: function (data) {
              if (data.makeparrot.exceptions) {
                offlineModal(unitId)
              } else {
                return location.href = '/unit/unit-add-plant/' + unitId
              }
            },
          });
        };
        modalBackButton.onclick = function () {
          var offlineSpinner = document.getElementById('force-end-grow');
          offlineSpinner.style.display = 'none';
          closeModal()
        };
        break;
      case 'terminate grow start schedule':
        // when the user clicks the continue button, continue
        modalPasswordContainer.classList.add('content-modal-hide');
        modalContinueButton.style.background = '#00A7CE';
        modalContinueButton.onclick = function () {
          var event = 'Terminating grow start schedule';
          loadingModal();
          $.ajax({
            url: '/terminate-grobo-start/' + unitPlantId,
            type: "POST",
            data: {event: event},
            success: function (data) {
              if (data.active_unit_plants.length > 0 && data.terminated) {
                return location.href = '../../index.html'
              } else {
                return location.href = '/unit/unit-add-plant/' + unitId
              }
            },
          });
        };
        modalBackButton.onclick = function () {
          closeModal()
        };
        break;

      case 'harvest':
        loadingModal();
        $.ajax({
          url: '/check-mcp/' + unitId,
          type: "POST",
          data: {event: 'harvest'},
          success: function (data) {
            if (data.makeparrot.exceptions) {
              offlineModal(unitId)
            } else if (data.mcp_value === 0 && data.cannabis === true) {
              return location.href = '/drying-mode/' + unitId;
            } else if (data.mcp_value === 0 && data.cannabis === false) {
              // return location.href = '/unit/unit-add-plant/' + unitId
              var event = 'kill_and_refresh_schedule';
              spinnerText = 'Harvesting...';
              loadingModal();
              $.ajax({
                url: '/terminate-schedule/' + unitId,
                type: "POST",
                data: {event: event},
                success: function (data) {
                  if (data.makeparrot.exceptions) {
                    offlineModal(unitId)
                  } else {
                    return location.href = '/unit/unit-add-plant/' + unitId
                  }
                },
              });
            } else if (data.mcp_value > 0 && data.cannabis === true) {
              modal_json = {
                modal_icon: 'warning plant',
                title: 'Drain Unit',
                message: 'There is still water in your Grobo. Draining is required to proceed with harvesting. ',
                secondary_message: 'Drain Now?',
                unit_id: unitId,
                action: 'initiate drain',
                cannabis: true,
                button_one_text: 'Cancel',
                button_two_text: 'Start Drain'
              };
              openModal(modal_json);
            } else if (data.mcp_value > 0 && data.cannabis === false) {
              modal_json = {
                modal_icon: 'warning plant',
                title: 'Drain Unit',
                message: 'There is still water in your Grobo. Draining is required to proceed with harvesting.',
                secondary_message: 'Drain Now?',
                unit_id: unitId,
                action: 'initiate drain',
                cannabis: false,
                button_one_text: 'Cancel',
                button_two_text: 'Start Drain'
              };
              openModal(modal_json);
            }
          },
        });
        break;
      case 'initiate drain':
        secondaryModalText.style.display = '';
        if (cannabis) {
          modalBackButton.onclick = function () {
            secondaryModalText.style.display = 'none';
            closeModal();
          };
          modalContinueButton.onclick = function () {
            return location.href = "/unit/prepare-drain/" + unitId;
          };
        } else {
          modalBackButton.onclick = function () {
            secondaryModalText.style.display = 'none';
            closeModal();
          };
          modalContinueButton.onclick = function () {
            return location.href = "/unit/prepare-drain/" + unitId;
          };
        }
        break;

      case 'no active grow':
        modalTextContainer.classList.remove('content-modal-hide');
        modalMainImage.classList.remove('content-modal-hide');
        modalSpinner.classList.add('content-modal-hide');
        modalBackButton.style.width = '106px';
        modalContinueButton.style.width = '106px';
        modalBackButton.innerHTML = 'Cancel';
        modalContinueButton.innerHTML = 'View Recipes';
        modalPasswordContainer.classList.add('content-modal-hide');
        modalContinueButton.style.background = '#00A7CE';
        modalBackButton.onclick = function () {
          closeModal()
        };
        modalContinueButton.onclick = function () {
          location = '../../recipes.html'
        };
        break;
      case 'requested recipe modal':
        modalButtonContainer.classList.add('content-modal-hide');
        singleButtonContainer.classList.remove('content-modal-hide');
        modalTextContainer.classList.remove('content-modal-hide');
        modalMainImage.classList.remove('content-modal-hide');
        modalSpinner.classList.add('content-modal-hide');
        modalContinueButton.style.width = '106px';
        requestedRecipeContainer.classList.remove('content-modal-hide');
        scrapedRecipeContainer.classList.add('content-modal-hide');
        if (recipeRequestJson) {
          userStrainRequest.innerHTML = recipeRequestJson.strain;
          userBreederRequest.innerHTML = recipeRequestJson.seed_breeder;
          userRequestEmail.innerHTML = recipeRequestJson.requester_email;
          userVarietalType.innerHTML = recipeRequestJson.varietal_type;
          autoFloweringRequest.innerHTML = recipeRequestJson.autoflowering;
          userUrlRequest.innerHTML = recipeRequestJson.url;
        }
        modalBackButton.innerHTML = 'Cancel';
        modalContinueButton.innerHTML = 'View Recipes';
        modalPasswordContainer.classList.add('content-modal-hide');
        modalContinueButton.style.background = '#00A7CE';
        modalSingleButton.innerHTML = 'Ok';
        modalSingleButton.onclick = function () {
          closeModal()
        };
        break;

      case 'scraped recipe modal':
        modalButtonContainer.classList.add('content-modal-hide');
        singleButtonContainer.classList.remove('content-modal-hide');
        modalTextContainer.classList.remove('content-modal-hide');
        modalMainImage.classList.remove('content-modal-hide');
        modalSpinner.classList.add('content-modal-hide');
        modalContinueButton.style.width = '106px';
        requestedRecipeContainer.classList.add('content-modal-hide');
        scrapedRecipeContainer.classList.remove('content-modal-hide');
        scrapedFloweringPeriod.innerHTML = scrapeResultJson.flowering_period;
        scrapedUserVarietal.innerHTML = scrapeResultJson.plant_type;
        scrapedAutoFlowering.innerHTML = scrapeResultJson.flowering_type;
        scrapedUrl.innerHTML = scrapeResultJson.url;
        modalBackButton.innerHTML = 'Cancel';
        modalContinueButton.innerHTML = 'View Recipes';
        modalPasswordContainer.classList.add('content-modal-hide');
        modalContinueButton.style.background = '#00A7CE';
        modalSingleButton.innerHTML = 'Ok';
        modalSingleButton.onclick = function () {
          closeModal()
        };
        break;
      case 'offline makeparrot':
        modalTextContainer.classList.remove('content-modal-hide');
        modalMainImage.classList.remove('content-modal-hide');
        modalSpinner.classList.add('content-modal-hide');
        spinnerCounter.classList.add('content-modal-hide');
        spinnerComplete.classList.add('content-modal-hide');
        modalMainImage.src = '../../imgs/ohoh_plant.svg';
        modalTitle.innerHTML = 'Reconnect To WiFi';
        modalPasswordContainer.classList.add('content-modal-hide');
        modalContinueButton.style.background = '#00A7CE';
        if (user_action === 'calibrating ph7' || user_action === 'calibrating ph4' || user_action === 'calibrating ecDry' || user_action === 'calibrating ecHigh') {
          modalText.innerHTML = 'Your unit lost connection during calibration. Reconnect to WiFi and restart the calibration process.';
          modalBackButton.innerHTML = 'Cancel';
          modalContinueButton.innerHTML = 'Reconnect';
        } else {
          modalText.innerHTML = 'Your Grobo has disconnected from WiFi. Please reconnect now. If this issue continues, please move your Grobo as close to your WiFi router as possible.';
          modalBackButton.innerHTML = 'Cancel';
          modalContinueButton.innerHTML = 'Reconnect';
        }
        $.ajax({
          url: '/slack-message/' + unitId,
          type: 'POST',
          data: {user_action: user_action},
          success: function (data) {
          }
        });
        modalBackButton.onclick = function () {
          closeModal()
        };
        modalContinueButton.onclick = function () {
          location = "../../login.html"
        };
        break;
      case 'confirm drain':
        modalButtonContainer.classList.remove('content-modal-hide');
        modalTextContainer.classList.remove('content-modal-hide');
        modalMainImage.classList.remove('content-modal-hide');
        modalSpinner.classList.add('content-modal-hide');
        modalMainImage.style.height = '150px';
        spinnerCounter.classList.add('content-modal-hide');
        spinnerComplete.classList.add('content-modal-hide');
        modalMainImage.src = '../../imgs/ohoh_plant.svg';
        modalTitle.innerHTML = 'Drain';
        modalText.innerHTML = 'Are you sure you are ready to start draining the water from your unit?';
        modalBackButton.innerHTML = 'Cancel';
        modalContinueButton.innerHTML = 'Ok';
        modalContinueButton.onclick = function () {
          $.ajax({
            url: '/makeparrot/' + unitId,
            type: "POST",
            data: {
              event: data.event,
              action_name: data.action_name
            },
            success: function (data) {
              if (data.start_flush === -6) {
                alert("The system is still filling. You can proceed to the next step once filling is complete.")
              } else if (data.start_flush === 4095) {
                window.location.replace('/unit/draining/' + unitId)
              } else if(particleId.length === 32) {
                var count = 0
                var checkEsp = setInterval( function () {
                  checkDrainStatus();
                }, 500);

                var stopDrainStatusCheck = function () {
                  clearInterval(checkEsp)
                };
                function checkDrainStatus() {
                  $.ajax({
                    url: "/check-drain-status",
                    data: { unit_id: unitId },
                    type: "POST"
                  }).done(function(data){
                    if (data.msg !== null) {
                      if (data.msg === "4095") {
                        stopDrainStatusCheck()
                        window.location.replace('/unit/draining/' + unitId)
                      } else {
                        stopDrainStatusCheck()
                      }
                    } else {
                      count++
                      if (count === 15){
                        stopDrainStatusCheck()
                        var modal_json = {
                          unit_id: unitId,
                          action: 'iot command offline',
                          user_action: 'checking esp online status'
                        };
                        openModal(modal_json)
                      }
                    }
                  }).fail(function(data){
                  })
                }
              }
            },
          });
        };
        modalBackButton.onclick = function () {
          closeModal()
        };

        // unitId = unit_id;
        break;
      case 'confirm reject recipe':
        modalButtonContainer.classList.remove('content-modal-hide');
        modalTextContainer.classList.remove('content-modal-hide');
        modalMainImage.classList.remove('content-modal-hide');
        modalSpinner.classList.add('content-modal-hide');
        modalMainImage.style.height = '150px';
        spinnerCounter.classList.add('content-modal-hide');
        spinnerComplete.classList.add('content-modal-hide');
        modalMainImage.src = '../../imgs/ohoh_plant.svg';
        modalTitle.innerHTML = 'Reject Recipe';
        modalText.innerHTML = 'Are you sure you want to reject this requested recipe?';
        modalBackButton.innerHTML = 'Cancel';
        modalContinueButton.innerHTML = 'Ok';
        modalContinueButton.onclick = function () {
          $.ajax({
            url: '/reject-recipe-blueprint',
            type: 'post',
            data: {
              recipeBlueprintId: recipe_blueprint_id,
            },
            success: function (data) {
              if (data.completed) {
                recipe_blueprint_row.style.display = 'none'
              }
              closeModal()
            }
          })
        };
        modalBackButton.onclick = function () {
          closeModal()
        };
        break;
      case 'iot command offline':
        offlineModal(unitId);
        break;
      case 'calibrate ph4':
      case 'calibrate ph7':
      case 'calibrate ecDry':
      case 'calibrate ecHigh':
      case 'health check':
      case 'ec health check':
        var phModalSpinnerText = document.getElementById('spinner-text');
        phModalSpinnerText.innerText = '2 mins';
        if (document.getElementById('order-one-section') != null) {
          var orderOneSection = document.getElementById('order-one-section');
          var orderTwoSection = document.getElementById('order-two-section');
          orderOneSection.classList.add('blurEffect');
          orderTwoSection.classList.add('blurEffect');
        }
        mainAppContent.className = 'mdl-layout__content';
        modalButtonContainer.classList.add('content-modal-hide');
        modalMainImage.classList.add('content-modal-hide');

        // After ONE MINUTE give '1 minute remaining' feedback
        setTimeout(function () {
          phModalSpinnerText.innerText = '1 min';
        }, 60000);
        // After ONE MINUTE and 30 SECONDS give '30 seconds remaining' feedback
        setTimeout(function () {
          phModalSpinnerText.innerText = '30 secs';
        }, 90000);
        if (action === 'calibrate ph7') {
          setTimeout(function () {
            spinnerCounter.classList.add('content-modal-hide');
            spinnerComplete.classList.remove('content-modal-hide');
            if (particleId.length === 32) {
              console.log('esp 32 health check')
              openMqttConnection(particleId, unitId, true)
            } else {
              $.ajax({
                url: '/check-ph7-handler/' + unitId,
                type: "POST",
                success: function (data) {
                  if (data.makeparrot.exceptions) {
                    offlineModal(unitId)
                  } else {
                    spinnerCounter.classList.add('content-modal-hide');
                    spinnerComplete.classList.remove('content-modal-hide');
                    spinnerComplete.innerText = 'Done';
                    modalTitle.innerHTML = 'pH 7.0 is calibrated';
                    modalText.classList.add('content-modal-hide');
                    modalButtonContainer.classList.add('content-modal-hide');
                    singleButtonContainer.classList.remove('content-modal-hide');
                    modalSingleButton.innerHTML = 'Ok';
                    modalSingleButton.onclick = function () {
                      if (data.gen_two) {
                        location = '/gen-two-calibrate-ph4/' + unitId
                      } else {
                        location = '/calibrate-ph4/' + unitId
                      }
                    }
                  }
                },
              })
            }
          }, 120000); // 120 seconds,
        } else if (action === 'calibrate ph4') {
          setTimeout(function () {
            spinnerCounter.classList.add('content-modal-hide');
            spinnerComplete.classList.remove('content-modal-hide');
            if (particleId.length === 32) {
              console.log('esp 32 health check')
              openMqttConnection(particleId, unitId, true)
            } else {
              $.ajax({
                url: '/check-ph4-handler/' + unitId,
                type: "POST",
                success: function (data) {
                  if (data.makeparrot.exceptions) {
                    offlineModal(unitId)
                  } else {
                    if (data.gen_two) {
                      location = "/ph-calibration-complete/" + unitId;
                    } else {
                      location = "/calibration-complete/" + unitId;
                    }

                  }
                },
              })
            }
          }, 120000); // 120 seconds,
        } else if (action === 'calibrate ecDry') {
          setTimeout(function () {
            spinnerCounter.classList.add('content-modal-hide');
            spinnerComplete.classList.remove('content-modal-hide');
            if (particleId.length === 32) {
              console.log('esp 32 health check')
              openMqttConnection(particleId, unitId, true)
            } else {
              $.ajax({
                url: '/check-ec-handler/' + unitId,
                type: "POST",
                data: {ec_value: 'ecdry'},
                success: function (data) {
                  if (data.makeparrot.exceptions) {
                    offlineModal(unitId)
                  } else {
                    if (data.gen_two) {
                      location = "/gen-two-calibrate-echigh/" + unitId;
                    } else {
                      location = "/calibrate-echigh/" + unitId;
                    }

                  }
                },
              })
            }
          }, 120000); // 120 seconds,
        }else if (action === 'calibrate ecHigh') {
          setTimeout(function () {
            spinnerCounter.classList.add('content-modal-hide');
            spinnerComplete.classList.remove('content-modal-hide');
            if (particleId.length === 32) {
              console.log('esp 32 health check')
              openMqttConnection(particleId, unitId, true)
            } else {
              $.ajax({
                url: '/check-ec-handler/' + unitId,
                type: "POST",
                data: {ec_value: 'echigh'},
                success: function (data) {
                  if (data.makeparrot.exceptions) {
                    offlineModal(unitId)
                  } else {
                    if (data.gen_two) {
                      location = "/ec-calibration-complete/" + unitId;
                    } else {
                      location = "/ec-reference/" + unitId;
                    }
                  }
                },
              })
            }
          }, 120000); // 120 seconds,
        }else if (action === 'ec health check'){
          setTimeout(function () {
            spinnerCounter.classList.add('content-modal-hide');
            spinnerComplete.classList.remove('content-modal-hide');
            if (particleId.length === 32) {
              console.log('esp 32 health check')
              openMqttConnection(particleId, unitId, true)
            } else {
              $.ajax({
                url: '/ec-health-check/' + unitId,
                type: "POST",
                success: function (data) {
                  if (data.makeparrot.exceptions) {
                    offlineModal(unitId)
                  } else if (data.probe_status === 'Healthy') {
                    if (data.gen_two) {
                      location = "/gen-two-ec-calibrated/" + unitId;
                    } else {
                      location = "/probe-success/" + unitId;
                    }
                  } else if (data.probe_status === 'Unhealthy') {
                    if (data.gen_two) {
                      location = "/ec-calibration-recommended/" + unitId;
                    } else {
                      location = "/calibrate-ec/" + unitId;
                    }
                  } else if (data.probe_status === 'No Status Posts') {
                    unableToCalibrate()
                  } else if (data.probe_status === 'Unauthorized') {
                    location = "../../index.html"
                  }
                },
              })
            }
          }, 120000); // 120 seconds,
        } else {
          setTimeout(function () {
            spinnerCounter.classList.add('content-modal-hide');
            spinnerComplete.classList.remove('content-modal-hide');
            if (particleId.length === 32) {
              console.log('esp 32 health check')
              openMqttConnection(particleId, unitId, true)
            } else {
              $.ajax({
                url: '/health-check-handler/' + unitId,
                type: "POST",
                success: function (data) {
                  if (data.makeparrot.exceptions) {
                    offlineModal(unitId)
                  } else if (data.probe_status === 'Healthy') {
                    if (data.gen_two) {
                      location = "/gen-two-ph-calibrated/" + unitId;
                    } else {
                      location = "/probe-success/" + unitId;
                    }
                  } else if (data.probe_status === 'Unhealthy') {
                    if (data.gen_two) {
                      location = "/ph-calibration-recommended/" + unitId;
                    } else {
                      location = "/calibration-recommended/" + unitId;
                    }
                  } else if (data.probe_status === 'No Status Posts') {
                    unableToCalibrate()
                  } else if (data.probe_status === 'Unauthorized') {
                    location = "../../index.html"
                  }
                },
              })
            }
          }, 120000); // 120 seconds,
        }
        break;
      case 'Timed Flash Firmware':
        var firmwareSpinnerText = document.getElementById('firmware-upgrade-text');
        firmwareSpinnerText.innerText = '1 min';
        modalButtonContainer.classList.add('content-modal-hide');
        modalMainImage.classList.add('content-modal-hide');
        setTimeout(function () {
          firmwareUpgradeCounter.classList.add('content-modal-hide');
          firmwareUpgradeComplete.classList.remove('content-modal-hide');
          firmwareUpgradeComplete.innerText = 'Done';
          modalTitle.innerHTML = 'Upgrade Complete';
          // modalText.classList.add('content-modal-hide');
          modalText.innerHTML = 'Click continue and verify you have the most up-to-date version applied'
          modalButtonContainer.classList.add('content-modal-hide');
          singleButtonContainer.classList.remove('content-modal-hide');
          modalSingleButton.innerHTML = 'Continue';
          modalSingleButton.onclick = function () {
            location = '/about/' + unitId
          }
        }, 60000); // 60 seconds,
        break;
      case 'delete grow journal':
        modalContinueButton.onclick = function () {
          $.ajax({
            url: '/grow-journals/' + unitPlantId + '/delete-past-grow-journal',
            type: "POST",
            success: function (data) {
              var divId = 'b' + unitPlantId;
              var buttonToggle = 'btoggle' + unitPlantId;
              var listItem = 'list-item' + unitPlantId;
              document.getElementById(divId).setAttribute('style', 'background: url(\'../imgs/placeholder_image.png\') no-repeat center');
              document.getElementById(buttonToggle).className = "main-btn dark-blue-button";
              document.getElementById(buttonToggle).innerHTML = "Create Journal";
              document.getElementById(listItem).setAttribute('disabled', 'disabled');
              document.getElementById(listItem).removeAttribute("onclick");
              document.getElementById(listItem).className = "mdl-menu__item";
              closeModal()
            }
          });
        };
        break;
      case 'delete past grow':
        modalContinueButton.onclick = function () {
          $.ajax({
            url: '/grow-journals/' + unitPlantId + '/delete-past-grow',
            type: "POST",
            success: function (data) {
              var divId = 'd' + unitPlantId;
              document.getElementById(divId).style.display = "none";
              closeModal()
            }
          })
        };
        break;
      case 'auto recipe':
        modalContinueButton.onclick = function () {
          return location.href = '/recipe/' + plantId + '?d=' + unitId;
        };
        break;
      case 'grow':

        modalGrid.onclick = function (e) {
          if (e.target !== e.currentTarget) return;
          closeModal()
        };

        window.onclick = function (event) {
          if (event.target === modal) {
            closeModal()
          }
        };
        modalContinueButton.onclick = function () {
          growSeedModal()
        };
        modalBackButton.className = 'main_app_modal__main-button main_app_modal__next-button';
        modalBackButton.onclick = function () {
          growCloneModal()
        };
        break;
      case 'drying mode':
        dryingModeModal();
        break;
      case 'grow seed':
        growSeedModal();
        break;
      case 'grow auto':
        modalBackButton.onclick = function () {
          closeModal()
        };

        if (unitId === "public" || unitId === "no-grobo") {
          modalContinueButton.onclick = function () {
            return window.open('https://www.grobo.io/', '_blank');
          }
        } else {
          modalContinueButton.onclick = function () {
            loadingModal();
            $.ajax({
              url: '/new-unit-plant/' + unitId,
              type: 'post',
              data: {plant_id: plantId, shift_days: 0},
              success: function (data) {
                if (data.makeparrot.exceptions) {
                  offlinePlantModal(data.unitId, data.gen_two)
                } else {
                  if (data.gen_two) {
                    location.href = '/setup/gen-two-fill-bucket/' + unitId
                  } else {
                    location.href = '/setup/remove-cover/' + unitId
                  }
                }
              }
            })
          };
        }
        break;
      case 'currently growing':
        modalButtonContainer.classList.add('content-modal-hide');
        singleButtonContainer.classList.remove('content-modal-hide');
        modalTextContainer.classList.remove('content-modal-hide');
        modalMainImage.classList.remove('content-modal-hide');
        modalSpinner.classList.add('content-modal-hide');
        modalSingleButton.innerHTML = 'Continue';
        modalSingleButton.onclick = function () {
          closeModal()
        };
        break;

      case 'information modal':
        requestedRecipeContainer.classList.add('content-modal-hide');
        modalButtonContainer.classList.add('content-modal-hide');
        singleButtonContainer.classList.remove('content-modal-hide');
        modalTextContainer.classList.remove('content-modal-hide');
        modalMainImage.classList.remove('content-modal-hide');
        modalSpinner.classList.add('content-modal-hide');
        modalSingleButton.innerHTML = 'Ok';
        modalSingleButton.onclick = function () {
          closeModal()
        };
        break;

      case 'recipe request modal':
        requestedRecipeContainer.classList.add('content-modal-hide');
        modalButtonContainer.classList.add('content-modal-hide');
        singleButtonContainer.classList.remove('content-modal-hide');
        modalTextContainer.classList.remove('content-modal-hide');
        modalMainImage.classList.remove('content-modal-hide');
        modalSpinner.classList.add('content-modal-hide');
        modalSingleButton.innerHTML = 'Ok';
        modalSingleButton.onclick = function () {
          location = "../../recipes.html"
        };
        break;

      // Recipes Page (After redirecting from requesting recipe)
      case 'recipe requested':
        modalButtonContainer.classList.add('content-modal-hide');
        singleButtonContainer.classList.remove('content-modal-hide');
        modalTextContainer.classList.remove('content-modal-hide');
        modalMainImage.classList.remove('content-modal-hide');
        modalSpinner.classList.add('content-modal-hide');
        modalSingleButton.innerHTML = 'Continue';
        modalSingleButton.onclick = function () {
          closeModal()
        };
        break;

      case 'Request data':
        modalButtonContainer.classList.add('content-modal-hide');
        modalPasswordContainer.classList.add('content-modal-hide');
        singleButtonContainer.classList.remove('content-modal-hide');
        singleButtonContainer.style.paddingTop = '25px'
        modalTextContainer.classList.remove('content-modal-hide');
        modalMainImage.classList.remove('content-modal-hide');
        modalSpinner.classList.add('content-modal-hide');
        modalSingleButton.innerHTML = 'Ok';
        modalSingleButton.onclick = function () {
          $.ajax({
            url: '/request-data',
            type: "POST",
            success: function (data) {
            },
          });
          closeModal()
        };
        break;

      case 'shiftify':
        modalContinueButton.onclick = function () {
          loadingModal();
          modalContinueButton.disabled = true;
          $.ajax({
            url: '/shift',
            action_name: data.action_name,
            type: "POST",
            data: {
              unit_id: unitId,
              shift_type: action_request
            }
          }).done(function (data) {
            if (data.success) {
              location.reload()
            } else {
              modalContinueButton.disabled = false;
              offlineModal(unitId)
            }
          })
        };
        break;
      case 'Delete Account Key Validation':
        modalTextContainer.classList.remove('content-modal-hide');
        modalPasswordContainer.classList.remove('content-modal-hide');
        modalMainImage.classList.remove('content-modal-hide');
        modalSpinner.classList.add('content-modal-hide');
        modalBackButton.style.width = '106px';
        modalContinueButton.style.width = '125px';
        modalText.style.fontSize = '15px'
        modalContinueButton.style.background = '#ff4081';
        modalBackButton.innerHTML = 'Cancel';
        modalContinueButton.innerHTML = 'Delete Account';


        modalBackButton.onclick = function () {
          closeModal()
        };
        modalContinueButton.onclick = function () {
          var keyValue = document.getElementById('keyValidation').value;
          loadingModal();
          $.ajax({
            url: '/key-validation',
            type: "POST",
            data: {keyValue: keyValue},
            success: function (data) {
              if (data.admin) {
                deleteUserConfirmation()
                modalSingleButton.innerHTML = 'Continue';
                singleButtonContainer.style.marginTop = '20px'
                modalSingleButton.onclick = function () {
                  return location.href = '../../index.html'
                }
              } else if (data.success === false) {
                wrongKeyEntered()
                modalSingleButton.innerHTML = 'Ok';
                singleButtonContainer.style.marginTop = '20px'
                modalSingleButton.onclick = function () {
                  document.getElementById('keyValidation').value = ""
                  closeModal()
                }
              } else {
                deleteUserConfirmation()
                modalSingleButton.innerHTML = 'Continue';
                singleButtonContainer.style.marginTop = '20px'
                modalSingleButton.onclick = function () {
                  return location.href = '../../index.html'
                }
              }
            },
          });
        };
        break;
      case 'Delete User Validation':
        modalTextContainer.classList.remove('content-modal-hide');
        modalMainImage.classList.remove('content-modal-hide');
        modalSpinner.classList.add('content-modal-hide');
        modalBackButton.style.width = '106px';
        modalContinueButton.style.width = '106px';
        modalText.style.fontSize = '15px'
        modalContinueButton.style.background = '#ff4081';
        modalBackButton.innerHTML = 'Cancel';
        modalContinueButton.innerHTML = 'Delete User';

        modalBackButton.onclick = function () {
          closeModal()
        };
        modalContinueButton.onclick = function () {
          // location = '/recipes'
          loadingModal();
          $.ajax({
            url: '/delete-user-validation/' + userId,
            type: "POST",
            success: function (data) {
              if (data.admin) {
                deleteUserConfirmationAdmin()
                modalSingleButton.innerHTML = 'Continue';
                singleButtonContainer.style.marginTop = '20px'
                modalSingleButton.onclick = function () {
                  return location.href = '../../index.html'
                }
              } else {
                deleteUserConfirmation()
                modalSingleButton.innerHTML = 'Continue';
                singleButtonContainer.style.marginTop = '20px'
                modalSingleButton.onclick = function () {
                  return location.href = '../../index.html'
                }
              }
            },
          });
        };
        break;
      case 'loadingModal':
        loadingModal();
        break;
      default:
      // Action not recognised
    }
  };



  closeModal = function () {
    modal.classList.remove('content-modal-show');
    modal.classList.add('content-modal-hide');
    mainAppContent.classList.remove("blurEffect");
    blurSidebar.className = "mdl-layout__drawer no-blurEffect";
    if (document.getElementById('order-one-section') != null) {
      var orderOneSection = document.getElementById('order-one-section');
      var orderTwoSection = document.getElementById('order-two-section');
      orderOneSection.classList.remove('blurEffect');
      orderTwoSection.classList.remove('blurEffect');
    }
  };

  loadingModal = function () {
    modalButtonContainer.classList.add('content-modal-hide');
    modalTextContainer.classList.add('content-modal-hide');
    modalMainImage.classList.add('content-modal-hide');
    modalSpinner.classList.remove('content-modal-hide');
    modalPasswordContainer.classList.add('content-modal-hide');
    modalTitle.innerHTML = spinnerText;
  };

  deleteUserConfirmation = function () {
    modalButtonContainer.classList.add('content-modal-hide');
    singleButtonContainer.classList.remove('content-modal-hide');
    modalTextContainer.classList.remove('content-modal-hide');
    modalMainImage.classList.remove('content-modal-hide');
    modalSpinner.classList.add('content-modal-hide');
    modalTitle.innerHTML = 'Success';
    modalText.innerHTML = 'Your account has been successfully deleted. You will now be redirected to the login screen.'
  }

  deleteUserConfirmationAdmin = function () {
    modalButtonContainer.classList.add('content-modal-hide');
    singleButtonContainer.classList.remove('content-modal-hide');
    modalTextContainer.classList.remove('content-modal-hide');
    modalMainImage.classList.remove('content-modal-hide');
    modalSpinner.classList.add('content-modal-hide');
    modalTitle.innerHTML = 'Success';
    modalText.innerHTML = `Your have successfully deleted ${userName}.`
  }

  wrongKeyEntered = function () {
    modalButtonContainer.classList.add('content-modal-hide');
    singleButtonContainer.classList.remove('content-modal-hide');
    modalTextContainer.classList.remove('content-modal-hide');
    modalMainImage.classList.remove('content-modal-hide');
    modalSpinner.classList.add('content-modal-hide');
    modalTitle.innerHTML = 'Wrong Password';
    modalText.innerHTML = 'Wrong password entered. Try again'
  }

  unableToCalibrate = function () {
    modalButtonContainer.classList.add('content-modal-hide');
    singleButtonContainer.classList.remove('content-modal-hide');
    modalTextContainer.classList.remove('content-modal-hide');
    modalMainImage.classList.remove('content-modal-hide');
    modalSpinner.classList.add('content-modal-hide');
    modalMainImage.style.height = '150px';
    spinnerCounter.classList.add('content-modal-hide');
    spinnerComplete.classList.add('content-modal-hide');
    modalMainImage.src = '../../imgs/ohoh_plant.svg';
    modalTitle.innerHTML = 'Unable To Calibrate';
    modalText.innerHTML = 'This unit is unable to start calibration at this time'
    modalSingleButton.innerHTML = 'Ok';
    singleButtonContainer.style.marginTop = '20px'
    modalSingleButton.onclick = function () {
      closeModal()
    }
  }

  offlineModal = function (unit_id) {
    modalButtonContainer.classList.remove('content-modal-hide');
    modalTextContainer.classList.remove('content-modal-hide');
    modalPasswordContainer.classList.add('content-modal-hide');
    modalMainImage.classList.remove('content-modal-hide');
    modalSpinner.classList.add('content-modal-hide');
    modalMainImage.style.height = '150px';
    spinnerCounter.classList.add('content-modal-hide');
    spinnerComplete.classList.add('content-modal-hide');
    modalMainImage.src = '../../imgs/ohoh_plant.svg';
    modalTitle.innerHTML = 'Reconnect To WiFi';
    modalText.innerHTML = 'Your Grobo has disconnected from WiFi. Please reconnect now. If this issue continues, please move your Grobo as close to your WiFi router as possible.';
    modalBackButton.innerHTML = 'Cancel';
    modalContinueButton.innerHTML = 'Reconnect';
    modalContinueButton.style.background = '#00A7CE';
    $.ajax({
      url: '/slack-message/' + unit_id,
      type: 'POST',
      data: {user_action: user_action},
      success: function (data) {
      }
    });
    modalBackButton.onclick = function () {
      location = "../../index.html"
    };
    modalContinueButton.onclick = function () {
      location = "../../login.html"
    };
  };

  offlinePlantModal = function (unit_id, gen_two) {
    modalButtonContainer.classList.add('content-modal-hide');
    singleButtonContainer.classList.remove('content-modal-hide');
    modalTextContainer.classList.remove('content-modal-hide');
    modalMainImage.classList.remove('content-modal-hide');
    modalSpinner.classList.add('content-modal-hide');
    modalMainImage.src = '../../imgs/ohoh_plant.svg';
    modalMainImage.style.height = '150px';
    modalTitle.innerHTML = 'Uh Oh';
    spinnerCounter.classList.add('content-modal-hide');
    spinnerComplete.classList.add('content-modal-hide');
    $.ajax({
      url: '/slack-message/' + unit_id,
      type: 'POST',
      data: {user_action: user_action},
      success: function (data) {
      }
    });
    if (action === 'grow' || action === 'grow auto' || action === 'grow seed') {
      modalText.innerHTML = 'Your unit is offline or busy. Once your unit is reconnected the changes you have just made will be applied';
    } else {
      modalText.innerHTML = 'It looks like your unit may be offline or busy. Please reconnect to WiFi and your Grobo will update automatically.';
    }
    modalText.innerHTML = 'It looks like your unit may be offline or busy. Please reconnect to WiFi and your Grobo will update automatically.';
    modalSingleButton.innerHTML = 'Continue';
    modalSingleButton.onclick = function () {
      if (action === 'grow' || action === 'grow auto' || action === 'grow seed') {
        if (gen_two) {
           location.href = '/setup/gen-two-fill-bucket/' + unitId
        } else {
          location.href = '/setup/remove-cover/' + unitId
        }
      } else if (action === 'health check' || action === 'calibrate ph7' || action === 'calibrate ph4' || action === 'iot command offline' || action === 'calibrate ecDry') {
        closeModal()
      } else {
        location = "../../index.html"
      }
    }
  };

  /**********************/
  /* Add plant modals   */
  /**********************/

  growCloneModal = function () {
    modalTitle.innerHTML = 'Careful Now!';
    modalText.innerHTML = 'This is an advanced technique and will require a rooted clone in a Grobo coco pod.';
    modalBackButton.innerHTML = 'Cancel';
    modalContinueButton.innerHTML = 'Grow';
    modalBackButton.className = 'main_app_modal__main-button main_app_modal__back-button';
    modalBackButton.onclick = function () {
      closeModal()
    };

    if (unitId === "public" || unitId === "no-grobo") {
      modalContinueButton.onclick = function () {
        return window.open('https://www.grobo.io/', '_blank');
      }
    } else {
      modalContinueButton.onclick = function () {
        loadingModal();
        $.ajax({
          url: '/new-unit-plant/' + unitId,
          type: 'post',
          data: {plant_id: plantId, shift_days: 0, clone: 'clone'},
          success: function (data) {
            if (data.makeparrot.exceptions) {
              offlinePlantModal(unitId)
            } else {
              if (data.gen_two) {
                return location.href = '/setup/gen-two-fill-bucket/' + unitId
              } else {
                return location.href = '/setup/remove-cover/' + unitId
              }
            }
          }
        })
      };
    }
  };

  dryingModeModal = function () {
    modalTitle.innerHTML = 'Drying Mode';
    modalText.innerHTML = 'Are you sure you want to put your plant in drying mode?';
    modalBackButton.innerHTML = 'Cancel';
    modalContinueButton.innerHTML = 'Begin';
    modalBackButton.className = 'main_app_modal__main-button main_app_modal__back-button';
    modalBackButton.onclick = function () {
      closeModal()
    };

    if (unitId === "public" || unitId === 'no-grobo') {
      modalContinueButton.onclick = function () {
        return window.open('https://www.grobo.io/', '_blank');
      }
    } else {
      modalContinueButton.onclick = function () {
        loadingModal();
        $.ajax({
          url: '/new-unit-plant/' + unitId,
          type: 'post',
          data: {plant_id: plantId, shift_days: 0},
          success: function (data) {
            if (data.makeparrot.exceptions) {
              offlinePlantModal(unitId)
            } else {
              return location.href = '/home/' + unitId
            }
          }
        })
      };
    }
  };


  growSeedModal = function () {
    modalTitle.innerHTML = 'Grow Seed';
    modalText.innerHTML = 'Are you sure you want to grow this seed?';
    modalBackButton.innerHTML = 'Cancel';
    modalContinueButton.innerHTML = 'Grow';
    modalBackButton.className = 'main_app_modal__main-button main_app_modal__back-button';
    modalBackButton.onclick = function () {
      closeModal()
    };

    if (unitId === "public" || unitId === 'no-grobo') {
      modalContinueButton.onclick = function () {
        return window.open('https://www.grobo.io/', '_blank');
      }
    } else {
      modalContinueButton.onclick = function () {
        loadingModal();
        $.ajax({
          url: '/new-unit-plant/' + unitId,
          type: 'post',
          data: {plant_id: plantId, shift_days: 0},
          success: function (data) {
            if (data.unitType === "Grobo Start") {
              return location.href = '../../index.html'
            } else if (data.makeparrot.exceptions) {
              offlinePlantModal(unitId)
            } else {
              if (data.gen_two) {
                return location.href = '/setup/gen-two-fill-bucket/' + unitId
              } else {
                return location.href = '/setup/remove-cover/' + unitId
              }
            }
          }
        })
      };
    }

  };

  /***********************/
  /* End of plant modals */
  /***********************/

  // modalGrid.onclick = function (e) {
  //     if (e.target !== e.currentTarget) return;
  //     closeModal()
  // };


  // When the user clicks on back button, close modal
  modalBackButton.onclick = function () {
    modalContinueButton.disabled = false;
    closeModal()
  };

  function viewPassword() {
    var keyValidation = document.getElementById('keyValidation');
    var passStatus = document.getElementById('pass-status');

    if (keyValidation.type === 'password') {
      keyValidation.type = 'text';
      passStatus.className = 'fa fa-eye-slash';

    } else {
      keyValidation.type = 'password';
      passStatus.className = 'fa fa-eye';
    }
  }

  // When the user clicks anywhere outside of the modal, close it
  // if (action !== 'health check') {
  //     debugger;
  //     window.onclick = function (event) {
  //         if (event.target === modal) {
  //             closeModal()
  //         }
  //     };
  // }
  //
  //
  // document.onkeyup = function (e) {
  //     e = e || window.event;
  //     if (modal.classList.contains('content-modal-show')) {
  //         if (e.keyCode === 27) {
  //             closeModal()
  //         }
  //     }
  // };
</script>

  </div>
</div>

</body>


<!-- Mirrored from my.grobo.io/recipe/432452430/public by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 24 Apr 2022 19:39:52 GMT -->
</html>
